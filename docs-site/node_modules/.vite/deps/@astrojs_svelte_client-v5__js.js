import {
  createRawSnippet
} from "./chunk-MZ4DNSH3.js";
import {
  hydrate,
  mount,
  unmount
} from "./chunk-MYCELNDA.js";
import "./chunk-NZOU47D4.js";
import "./chunk-MZQ22LAU.js";

// node_modules/@astrojs/svelte/client-v5.js
var existingApplications = /* @__PURE__ */ new WeakMap();
var client_v5_default = (element) => {
  return async (Component, props, slotted, { client }) => {
    if (!element.hasAttribute("ssr")) return;
    let children = void 0;
    let $$slots = void 0;
    let renderFns = {};
    for (const [key, value] of Object.entries(slotted)) {
      $$slots ?? ($$slots = {});
      if (key === "default") {
        $$slots.default = true;
        children = createRawSnippet(() => ({
          render: () => `<astro-slot>${value}</astro-slot>`
        }));
      } else {
        $$slots[key] = createRawSnippet(() => ({
          render: () => `<astro-slot name="${key}">${value}</astro-slot>`
        }));
      }
      if (key === "default") {
        renderFns.children = createRawSnippet(() => ({
          render: () => `<astro-slot>${value}</astro-slot>`
        }));
      } else {
        renderFns[key] = createRawSnippet(() => ({
          render: () => `<astro-slot name="${key}">${value}</astro-slot>`
        }));
      }
    }
    const bootstrap = client !== "only" ? hydrate : mount;
    if (existingApplications.has(element)) {
      existingApplications.get(element).$set({
        ...props,
        children,
        $$slots,
        ...renderFns
      });
    } else {
      const component = bootstrap(Component, {
        target: element,
        props: {
          ...props,
          children,
          $$slots,
          ...renderFns
        }
      });
      existingApplications.set(element, component);
      element.addEventListener("astro:unmount", () => unmount(component), { once: true });
    }
  };
};
export {
  client_v5_default as default
};
//# sourceMappingURL=@astrojs_svelte_client-v5__js.js.map
