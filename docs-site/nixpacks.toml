providers = ["bun"]

[variables]
NODE_ENV = "production"

[phases.install]
# Install dependencies using Bun
cmds = ["bun install --frozen-lockfile"]

[phases.build]
# Build the application using Bun
cmds = ["bun run build"]

[start]
# Start command for production
cmd = "bun run preview"

[staticAssets]
# Serve static files from dist directory
dir = "dist"

[cache]
# Cache node_modules and Astro build cache
paths = [
  "node_modules",
  ".astro"
]
